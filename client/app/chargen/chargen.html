<h1>Character Generation</h1>

<div id='chargen'>
  <form name="chargenForm" ng-submit='chargen( chargenForm.$valid )' novalidate>
    <ul class="chargen">
    <div id="classification">
      <label for="name">Name</label>
      <input type="text" id="name" />
      <p class="fieldhelp">This name will be your character's screen name.</p>
      
      <label for="template">Template</label>
      <select id="template" name="template" ng-model="character.template" ng-change="updateselection()">
        <option ng-repeat="template in templates" value="{{template}}">{{template}}</option>
      </select>
      
      <label for="sect">Sect</label>
      <select id="sect">
      </select>
    
      <label for="classification">Clan</label>
      <select id="classification">
        <option ng-repeat="monster in monsterselection" value="{{monster.id}}">{{monster.name}}</option>
      </select>
      
      <label for="bloodline">Bloodline</label>
      <select id="bloodline">
      </select>
      
      
      <label for="nature">Nature</label>
      <select id="nature" ng-model="character.nature">
        <option ng-repeat="archetype in archetypes" value="{{archetype.id}}">{{archetype.name}}</option>
      </select>
      
      <label for="demeanor">Demeanor</label>
      <select id="demeanor" ng-model="character.demeanor">
        <option ng-repeat="archetype in archetypes" value="{{archetype.id}}">{{archetype.name}}</option>
      </select>
    </div>
    
    <div id="attributes" class="row">
      <fieldset id="Physical" class="column third flushleft">
        <legend>Physical</legend>
        <div class="statrating">
          <div ng-repeat="stat in physicalattributes">
          <label for="{{stat.name}}" class="dot">{{stat.name}}</label>
            <div ng-repeat="number in standardtrait">
            <input type="radio" name="{{stat.name}}" value={{number}} class="statinput" id="{{stat.name}}-{{number}}" ng-model="character.physical[stat.name]" />
            <label for="{{stat.name}}-{{number}}" class="statvalue">{{number}}</label>
            </div>
          </div>
        </div>
      </fieldset>
      
      <fieldset id="social" class="column third">
        <legend>Social</legend>
        <div ng-repeat="stat in socialattributes">
        <label for="{{stat.name}}">{{stat.name}}</label>
          <div ng-repeat="number in standardtrait">
          <input type="radio" name="{{stat.name}}" value={{number}} id="{{stat.name}}-{{number}}" ng-model="character.social[stat.name]"><label for="{{stat.name}}-{{number}}">{{number}}</label>
          </div>
        </div>
      </fieldset>
      
      <fieldset id="Mental" class="column third flushright">
        <legend>Mental</legend>
        <div ng-repeat="stat in mentalattributes">
        <label for="{{stat.name}}">{{stat.name}}</label>
          <div ng-repeat="number in standardtrait">
          <input type="radio" name="{{stat.name}}" value={{number}} id="{{stat.name}}-{{number}}" ng-model="character.mental[stat.name]"><label for="{{stat.name}}-{{number}}">{{number}}</label>
          </div>
        </div>
      </fieldset>
    </div>
      
    
    
    <div id="abilities" class="row">
      <fieldset id="talents" class="column third flushleft">
        <legend>Talents</legend>
        <div ng-repeat="stat in talents">
        <label for="{{stat.name}}">{{stat.name}}</label>
          <div ng-repeat="number in standardtrait">
          <input type="radio" name="{{stat.name}}" value={{number}} id="{{stat.name}}-{{number}}" ng-model="character.talents[stat.name]"><label for="{{stat.name}}-{{number}}">{{number}}</label>
          </div>
        </div>
      </fieldset>
      
      <fieldset id="skills" class="column third">
        <legend>Skills</legend>
        <div ng-repeat="stat in skills">
        <label for="{{stat.name}}">{{stat.name}}</label>
          <div ng-repeat="number in standardtrait">
          <input type="radio" name="{{stat.name}}" value={{number}} id="{{stat.name}}-{{number}}" ng-model="character.skills[stat.name]"><label for="{{stat.name}}-{{number}}">{{number}}</label>
          </div>
        </div>
      </fieldset>
      
      <fieldset id="knowledges" class="column third">
        <legend>Skills</legend>
        <div ng-repeat="stat in knowledges">
        <label for="{{stat.name}}">{{stat.name}}</label>
          <div ng-repeat="number in standardtrait">
          <input type="radio" name="{{stat.name}}" value={{number}} id="{{stat.name}}-{{number}}" ng-model="character.knowledges[stat.name]"><label for="{{stat.name}}-{{number}}">{{number}}</label>
          </div>
        </div>
      </fieldset>
    </div>
    
    <div id="advantages">
      <fieldset id="backgrounds">
        <legend>Backgrounds</legend>
      </fieldset>
      
      <fieldset id="powers">
        <legend>Disciplines</legend>
      </fieldset>
      
      <fieldset id="virtues">
        <legend>Virtues</legend>
      </fieldset>
    </div>
    
    <div id="merits-and-flaws">
    </div> 
      <li><label for="nameInput">NAME</label><input name="nameInput" type='text' ng-model='character.name' ng-class="{ 'error': chargenForm.nameInput.$invalid && shortenForm.$dirty }" required></li>
      <li><label for="dbrefInput">DBREF</label><input name="dbrefInput" type='text' ng-model='character.dbref' ng-class="{ 'error': chargenForm.dbrefInput.$invalid && shortenForm.$dirty }" required></li>
      <li><label for="conceptInput">CONCEPT</label><input name="conceptInput" type='text' ng-model='character.concept' ng-class="{ 'error': chargenForm.conceptInput.$invalid && shortenForm.$dirty }" required></li>
      <li><label for="xpInput">XP</label><input name="xpInput" type='number' ng-model='character.xp' ng-class="{ 'error': chargenForm.xpInput.$invalid && shortenForm.$dirty }" required></li>
    </ul>
    <button>Create</button>
  </form>

  {{ character }}
</div>
